import{_ as m,o as r,c as i,w as x,v as w,a as e,r as d,t as u,b as _,d as f,p as h,e as v,F as B,f as F,g as I,h as R}from"./index-UXBQipVi.js";const k={data(){return{filterBy:{txt:""}}},methods:{onFilter(){this.$emit("filter",this.filterBy)}}},b={class:"contact-filter"};function L(t,n,c,p,l,o){return r(),i("section",b,[x(e("input",{type:"text",onInput:n[0]||(n[0]=(...a)=>o.onFilter&&o.onFilter(...a)),"onUpdate:modelValue":n[1]||(n[1]=a=>l.filterBy.txt=a),placeholder:"Filter contacts"},null,544),[[w,l.filterBy.txt]])])}const g=m(k,[["render",L],["__scopeId","data-v-23e325dc"]]),S={props:{contact:{type:Object,required:!0}},methods:{removeContact(){this.$emit("remove",this.contact._id)}}},$=t=>(h("data-v-8189f2e2"),t=t(),v(),t),D={class:"contact-preview"},V={class:"contact-buttons"},E=$(()=>e("button",null,"Details",-1)),N=$(()=>e("button",null,"Edit",-1));function P(t,n,c,p,l,o){const a=d("RouterLink");return r(),i("div",D,[e("h2",null,u(c.contact.name),1),e("small",null,u(c.contact._id),1),e("p",null,u(c.contact.phone),1),e("p",null,u(c.contact.email),1),e("div",V,[_(a,{to:`/contact/${c.contact._id}`},{default:f(()=>[E]),_:1},8,["to"]),_(a,{to:`contact/edit/${c.contact._id}`},{default:f(()=>[N]),_:1},8,["to"]),e("button",{onClick:n[0]||(n[0]=(...s)=>o.removeContact&&o.removeContact(...s)),class:"delete-button"},"Detele")])])}const q=m(S,[["render",P],["__scopeId","data-v-8189f2e2"]]),A={props:{contacts:{type:Array,required:!0}},methods:{onRemoveContact(t){this.$emit("remove",t)}},components:{ContactPreview:q}},j=t=>(h("data-v-af5a1d41"),t=t(),v(),t),M={class:"contact-list"},O=j(()=>e("h2",null,"Contact list:",-1));function T(t,n,c,p,l,o){const a=d("ContactPreview");return r(),i("section",M,[O,e("ul",null,[(r(!0),i(B,null,F(c.contacts,s=>(r(),i("li",{key:s._id},[_(a,{contact:s,onRemove:C=>o.onRemoveContact(s._id)},null,8,["contact","onRemove"])]))),128))])])}const U=m(A,[["render",T],["__scopeId","data-v-af5a1d41"]]),z={data(){return{filterBy:{txt:""}}},methods:{async removeContact(t){await this.$store.dispatch({type:"removeContact",contactId:t})},filterContacts(t){this.filterBy=t}},computed:{filteredContacts(){const t=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(n=>t.test(n.name))},contacts(){return this.$store.getters.contacts}},async created(){await this.$store.dispatch({type:"loadContacts"})},components:{ContactFilter:g,ContactList:U}},y=t=>(h("data-v-a0f69408"),t=t(),v(),t),G=y(()=>e("h1",null,"Contacts",-1)),H=y(()=>e("button",null,"Add a contact",-1));function J(t,n,c,p,l,o){const a=d("RouterLink"),s=d("ContactFilter"),C=d("ContactList");return r(),i("main",null,[G,_(a,{to:"contact/edit"},{default:f(()=>[H]),_:1}),_(s,{onFilter:o.filterContacts},null,8,["onFilter"]),o.contacts?(r(),I(C,{key:0,onRemove:o.removeContact,contacts:o.filteredContacts},null,8,["onRemove","contacts"])):R("",!0)])}const Q=m(z,[["render",J],["__scopeId","data-v-a0f69408"]]);export{Q as default};
