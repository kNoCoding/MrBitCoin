import{_ as m,o as i,c as l,w,v as I,a as o,p as f,b as p,r as d,t as u,d as _,e as v,F as B,f as F,g as x,h as R,i as k}from"./index-JifJoMX0.js";const b={data(){return{filterBy:{txt:""}}},methods:{onFilter(){this.$emit("filter",this.filterBy)}}},L=t=>(f("data-v-dd7bff05"),t=t(),p(),t),S={class:"contact-filter"},g=L(()=>o("p",null,"Filter",-1));function D(t,e,n,h,r,c){return i(),l("section",S,[g,w(o("input",{type:"text",onInput:e[0]||(e[0]=(...a)=>c.onFilter&&c.onFilter(...a)),"onUpdate:modelValue":e[1]||(e[1]=a=>r.filterBy.txt=a)},null,544),[[I,r.filterBy.txt]])])}const V=m(b,[["render",D],["__scopeId","data-v-dd7bff05"]]),E={props:{contact:{type:Object,required:!0}},methods:{removeContact(){this.$emit("remove",this.contact._id)}}},$=t=>(f("data-v-a10a08c2"),t=t(),p(),t),N={class:"contact-preview"},P={class:"contact-buttons"},q=$(()=>o("button",null,"Details",-1)),A=$(()=>o("button",null,"Edit",-1));function j(t,e,n,h,r,c){const a=d("RouterLink");return i(),l("div",N,[o("h2",null,u(n.contact.name),1),o("small",null,u(n.contact._id),1),o("p",null,u(n.contact.phone),1),o("p",null,u(n.contact.email),1),o("div",P,[_(a,{to:`/contact/${n.contact._id}`},{default:v(()=>[q]),_:1},8,["to"]),o("button",{onClick:e[0]||(e[0]=(...s)=>c.removeContact&&c.removeContact(...s))},"Detele"),_(a,{to:`contact/edit/${n.contact._id}`},{default:v(()=>[A]),_:1},8,["to"])])])}const M=m(E,[["render",j],["__scopeId","data-v-a10a08c2"]]),O={props:{contacts:{type:Array,required:!0}},methods:{onRemoveContact(t){this.$emit("remove",t)}},components:{ContactPreview:M}},T=t=>(f("data-v-2cc9084e"),t=t(),p(),t),U={class:"contact-list"},z=T(()=>o("h2",null,"Contact list:",-1));function G(t,e,n,h,r,c){const a=d("ContactPreview");return i(),l("section",U,[z,o("ul",null,[(i(!0),l(B,null,F(n.contacts,s=>(i(),l("li",{key:s._id},[_(a,{contact:s,onRemove:C=>c.onRemoveContact(s._id)},null,8,["contact","onRemove"])]))),128))])])}const H=m(O,[["render",G],["__scopeId","data-v-2cc9084e"]]),J={data(){return{contacts:null,filterBy:{txt:""}}},methods:{async removeContact(t){const e=this.contacts.findIndex(n=>n._id===t);e!==-1?(this.contacts.splice(e,1),await x.deleteContact(t)):console.error("Contact ID not found:",t)},filterContacts(t){this.filterBy=t}},computed:{filteredContacts(){const t=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(e=>t.test(e.name))}},async created(){this.contacts=await x.getContacts()},components:{ContactFilter:V,ContactList:H}},y=t=>(f("data-v-21a93df1"),t=t(),p(),t),K=y(()=>o("h1",null,"Contacts",-1)),Q=y(()=>o("button",null,"Add a contact",-1));function W(t,e,n,h,r,c){const a=d("RouterLink"),s=d("ContactFilter"),C=d("ContactList");return i(),l("main",null,[K,_(a,{to:"contact/edit"},{default:v(()=>[Q]),_:1}),_(s,{onFilter:c.filterContacts},null,8,["onFilter"]),r.contacts?(i(),R(C,{key:0,onRemove:c.removeContact,contacts:c.filteredContacts},null,8,["onRemove","contacts"])):k("",!0)])}const Y=m(J,[["render",W],["__scopeId","data-v-21a93df1"]]);export{Y as default};
