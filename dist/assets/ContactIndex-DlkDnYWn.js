import{_ as u,o as r,c as l,w as C,v as x,a as o,p as m,b as p,r as _,t as d,d as h,e as $,F as y,f as w,g as v,h as I,i as b}from"./index-BkiosbEm.js";const B={data(){return{filterBy:{txt:""}}},methods:{onFilter(){this.$emit("filter",this.filterBy)}}},F=t=>(m("data-v-dd7bff05"),t=t(),p(),t),R={class:"contact-filter"},k=F(()=>o("p",null,"Filter",-1));function S(t,e,n,f,i,c){return r(),l("section",R,[k,C(o("input",{type:"text",onInput:e[0]||(e[0]=(...s)=>c.onFilter&&c.onFilter(...s)),"onUpdate:modelValue":e[1]||(e[1]=s=>i.filterBy.txt=s)},null,544),[[x,i.filterBy.txt]])])}const g=u(B,[["render",S],["__scopeId","data-v-dd7bff05"]]),L={props:{contact:{type:Object,required:!0}},methods:{removeContact(){this.$emit("remove",this.contact._id)}}},D=t=>(m("data-v-b03bfd77"),t=t(),p(),t),V={class:"contact-preview"},N={class:"contact-buttons"},P=D(()=>o("button",null,"Details",-1));function q(t,e,n,f,i,c){const s=_("RouterLink");return r(),l("div",V,[o("h2",null,d(n.contact.name),1),o("small",null,d(n.contact._id),1),o("p",null,d(n.contact.phone),1),o("p",null,d(n.contact.email),1),o("div",N,[h(s,{to:`/contact/${n.contact._id}`},{default:$(()=>[P]),_:1},8,["to"]),o("button",{onClick:e[0]||(e[0]=(...a)=>c.removeContact&&c.removeContact(...a))},"Detele")])])}const E=u(L,[["render",q],["__scopeId","data-v-b03bfd77"]]),j={props:{contacts:{type:Array,required:!0}},methods:{onRemoveContact(t){this.$emit("remove",t)}},components:{ContactPreview:E}},A=t=>(m("data-v-2cc9084e"),t=t(),p(),t),M={class:"contact-list"},O=A(()=>o("h2",null,"Contact list:",-1));function T(t,e,n,f,i,c){const s=_("ContactPreview");return r(),l("section",M,[O,o("ul",null,[(r(!0),l(y,null,w(n.contacts,a=>(r(),l("li",{key:a._id},[h(s,{contact:a,onRemove:K=>c.onRemoveContact(a._id)},null,8,["contact","onRemove"])]))),128))])])}const U=u(j,[["render",T],["__scopeId","data-v-2cc9084e"]]),z={data(){return{contacts:null,filterBy:{txt:""}}},methods:{async removeContact(t){const e=this.contacts.findIndex(n=>n._id===t);e!==-1?(this.contacts.splice(e,1),await v.deleteContact(t)):console.error("Contact ID not found:",t)},filterContacts(t){this.filterBy=t}},computed:{filteredContacts(){const t=new RegExp(this.filterBy.txt,"i");return this.contacts.filter(e=>t.test(e.name))}},async created(){this.contacts=await v.getContacts()},components:{ContactFilter:g,ContactList:U}},G=t=>(m("data-v-658e5e0c"),t=t(),p(),t),H=G(()=>o("h1",null,"Im the contact page",-1));function J(t,e,n,f,i,c){const s=_("ContactFilter"),a=_("ContactList");return r(),l("main",null,[H,h(s,{onFilter:c.filterContacts},null,8,["onFilter"]),i.contacts?(r(),I(a,{key:0,onRemove:c.removeContact,contacts:c.filteredContacts},null,8,["onRemove","contacts"])):b("",!0)])}const W=u(z,[["render",J],["__scopeId","data-v-658e5e0c"]]);export{W as default};
